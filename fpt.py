# -*- coding: utf-8 -*-
"""FPT.ipynb

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1TbVk1iEr6LwuNqz73SW4Ec3T88d6YBYt

<a href="https://colab.research.google.com/github/bachsykhang/StockPredictVinamilk/blob/main/Vinamilk.ipynb" target="_parent"><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/></a>

# Bước 1: Import thư viện
"""

import pandas as pd #đọc dữ liệu
import numpy as np #xử lý dữ liệu
import matplotlib.pyplot as plt #vẽ biểu đồ
from sklearn.preprocessing import MinMaxScaler #chuẩn hóa dữ liệu
from keras.callbacks import ModelCheckpoint #lưu lại huấn luyện tốt nhất
from tensorflow.keras.models import load_model #tải mô hình

#các lớp để xây dựng mô hình
from keras.models import Sequential #đầu vào
from keras.layers import LSTM #học phụ thuộc
from keras.layers import Dropout #tránh học tủ
from keras.layers import Dense #đầu ra

#kiểm tra độ chính xác của mô hình
from sklearn.metrics import r2_score #đo mức độ phù hợp
from sklearn.metrics import mean_absolute_error #đo sai số tuyệt đối trung bình
from sklearn.metrics import mean_absolute_percentage_error #đo % sai số tuyệt đối trung bình

"""# Bước 2: Đọc dữ liệu"""

#tạo quyền truy cập với google drive
from google.colab import drive
drive.mount('/content/drive')

# đọc dữ liệu từ file csv
df = pd.read_csv('/content/drive/MyDrive/dữ liệu train chứng khoán/FPT.csv')

"""![Screenshot 2025-05-06 151756.png](data:image/png;base64,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)"""

#xóa bỏ các cột không đóp góp nhiều
df["Date/Time"] = pd.to_datetime(df["Date/Time"], format="%m/%d/%Y %H:%M")

df=df.drop(['Ticker','Open Interest'],axis=1) # nhận xét ticker và open interest không đóng góp nhiều -> loại bỏ

# Hiển thị lại DataFrame sau khi xóa
print(df)

"""# Bước 3: Mô tả dữ liệu"""

#kích thước dữ liệu
df.shape

#dữ liệu 5 dòng đầu
df.head()

#xác định kiểu dữ liệu
df.info()

#mô tả bộ dữ liệu
df.describe()

"""# Bước 4: Tiền xử lý dữ liệu"""

import pandas as pd
import matplotlib.pyplot as plt
from matplotlib.dates import YearLocator, DateFormatter, MonthLocator

# Giả sử df là DataFrame của bạn, chuyển cột Date/Time sang datetime
df['Date/Time'] = pd.to_datetime(df['Date/Time'], format='%m/%d/%Y %H:%M')


# Lấy thông tin năm từ cột Date/Time
df['Năm'] = df['Date/Time'].dt.year

# Vẽ đồ thị giá đóng cửa qua các năm
plt.figure(figsize=(10, 5))
plt.plot(df['Date/Time'], df['Close'], label='Giá đóng cửa', color='red')
plt.xlabel('Thời gian')
plt.ylabel('Giá đóng cửa')
plt.title('Biểu đồ giá đóng cửa của cổ phiếu qua các năm')
plt.legend(loc='best')

# Định dạng đồ thị hiển thị các ngày tháng theo năm-tháng
years = YearLocator()
yearsFmt = DateFormatter('%Y')
months = MonthLocator()  # Khai báo MonthLocator

plt.gca().xaxis.set_major_locator(years)
plt.gca().xaxis.set_major_formatter(yearsFmt)
plt.gca().xaxis.set_minor_locator(months)

plt.xticks(rotation=45)
plt.tight_layout()
plt.show()

df1 = pd.DataFrame(df, columns=['Date/Time', 'Close'])
df1.index = df1['Date/Time']  # Sử dụng dấu [] để truy cập cột 'Date/Time'
df1.drop('Date/Time', axis=1, inplace=True)
df1

#chia tập dữ liệu
data = df1.values
train_data = data[:57000] #60% cho tập train
test_data = data[57000:] #40% cho tập test

data

#chuẩn hóa dữ liệu
sc = MinMaxScaler(feature_range=(0,1))
sc_train = sc.fit_transform(data)

#tạo vòng lặp các giá trị
x_train,y_train=[],[]
for i in range(100,len(train_data)):
  x_train.append(sc_train[i-100:i,0]) #lấy 100 giá đóng cửa liên tục
  y_train.append(sc_train[i,0]) #lấy ra giá đóng cửa ngày hôm sau

x_train

y_train

#xếp dữ liệu thành 1 mảng 2 chiều
x_train = np.array(x_train)
y_train = np.array(y_train)

#xếp lại dữ liệu thành mảng 3 chiều,2 chiều đầu vào LSTM (sample, step, số lượng thông tin)
x_train = np.reshape(x_train,(x_train.shape[0],x_train.shape[1],1))
y_train = np.reshape(y_train,(y_train.shape[0],1))

"""# Bước 5: Xây dựng và huấn luyện mô hình"""

#xây dựng mô hình
model = Sequential() #tạo lớp mạng cho dữ liệu đầu vào
#2 lớp LSTM
model.add(LSTM(units=128,input_shape=(x_train.shape[1],1),return_sequences=True))
model.add(LSTM(units=64))
model.add(Dropout(0.5)) #loại bỏ 1 số đơn vị tránh học tủ (overfitting)
model.add(Dense(1)) #output đầu ra 1 chiều
#đo sai số tuyệt đối trung bình có sử dụng trình tối ưu hóa adam
model.compile(loss='mean_absolute_error',optimizer='adam')

#huấn luyện mô hình
save_model = "/content/drive/MyDrive/dữ liệu train chứng khoán/best_model.h5"
best_model = ModelCheckpoint(save_model,monitor='loss',verbose=2,save_best_only=True,mode='auto')
model.fit(x_train,y_train,epochs=100,batch_size=50,verbose=2,callbacks=[best_model])

#dữ liệu train
y_train = sc.inverse_transform(y_train) #giá thực
final_model = load_model("/content/drive/MyDrive/dữ liệu train chứng khoán/best_model.h5")
y_train_predict = final_model.predict(x_train) #dự đoán giá đóng cửa trên tập đã train
y_train_predict = sc.inverse_transform(y_train_predict) #lấy lại giá dự đoán sau transform

"""# Bước 6: Tái sử dụng mô hình trên tập dữ liệu ban đầu

"""

#xử lý dữ liệu test
test = df1[len(train_data)-100:].values
test = test.reshape(-1,1)
sc_test = sc.transform(test)

x_test = []
for i in range(100,test.shape[0]):
  x_test.append(sc_test[i-50:i,0])
x_test = np.array(x_test)
x_test = np.reshape(x_test,(x_test.shape[0],x_test.shape[1],1))
print(x_test.shape)
#dữ liệu test
y_test = data[57000:] #giá thực
y_test_predict = final_model.predict(x_test)
y_test_predict = sc.inverse_transform(y_test_predict) #giá dự đoán

"""# Độ chính xác của mô hình"""

#lập biểu đồ so sánh
train_data1 = df1[100:57000]
test_data1 = df1[57000:]

plt.figure(figsize=(24,8))
plt.plot(df1,label='Giá thực tế',color='red') #đường giá thực
train_data1['Dự đoán'] = y_train_predict #thêm dữ liệu
plt.plot(train_data1['Dự đoán'],label='Giá dự đoán train',color='green') #đường giá dự báo train
test_data1['Dự đoán'] = y_test_predict #thêm dữ liệu
plt.plot(test_data1['Dự đoán'],label='Giá dự đoán test',color='blue') #đường giá dự báo test
plt.title('So sánh giá dự báo và giá thực tế') #đặt tên biểu đồ
plt.xlabel('Thời gian') #đặt tên hàm x
plt.ylabel('Giá đóng cửa (VNĐ)') #đặt tên hàm y
plt.legend() #chú thích
plt.show()

#r2
print('Độ phù hợp tập train:',r2_score(y_train,y_train_predict))
#mae
print('Sai số tuyệt đối trung bình trên tập train (VNĐ):',mean_absolute_error(y_train,y_train_predict))
#mae
print('Phần trăm sai số tuyệt đối trung bình tập train:',mean_absolute_percentage_error(y_train,y_train_predict))

train_data1

#r2
print('Độ phù hợp tập test:',r2_score(y_test,y_test_predict))
#mae
print('Sai số tuyệt đối trung bình trên tập test (VNĐ):',mean_absolute_error(y_test,y_test_predict))
#mae
print('Phần trăm sai số tuyệt đối trung bình tập test:',mean_absolute_percentage_error(y_test,y_test_predict))

test_data1

"""# Thử dự đoán giá tương lai  sau N phút và so sánh với giá ngày cuối"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

n = int(input("Nhập số phút dự đoán: "))

# Lấy 100 giá gần nhất và chuẩn hóa
input_seq = df1['Close'].values[-100:].reshape(-1, 1)
input_seq = sc.transform(input_seq)

predicted_prices = []
future_times = []

# Thời điểm bắt đầu
last_time = df1.index[-1]

for i in range(n):
    x_input = np.array([input_seq.flatten()])
    x_input = x_input.reshape(1, 100, 1)

    # Dự đoán
    y_pred = final_model.predict(x_input)
    predicted_prices.append(y_pred[0][0])

    # Cập nhật chuỗi đầu vào
    input_seq = np.append(input_seq, y_pred)[-100:].reshape(-1, 1)

    # Thêm thời gian tương ứng
    future_times.append(last_time + pd.Timedelta(minutes=i+1))

# Chuyển kết quả về giá trị gốc
predicted_prices = sc.inverse_transform(np.array(predicted_prices).reshape(-1, 1))

# Vẽ biểu đồ
plt.figure(figsize=(15, 5))
plt.plot(df1.index[-200:], df1['Close'][-200:], label='Giá thực tế', color='red')
plt.plot(future_times, predicted_prices, label='Dự đoán {} phút tiếp theo'.format(n), color='blue', linestyle='--')
plt.xlabel('Thời gian')
plt.ylabel('Giá đóng cửa (VNĐ)')
plt.title('Dự đoán giá cổ phiếu liên tục {} phút tới'.format(n))
plt.legend()
plt.grid(True)
plt.tight_layout()
plt.show()
print('Biến động sau {} phút: {}'.format(n,(predicted_prices[-1]-df1['Close'][-1])))